import e from"primevue/icons/chevronleft";import t from"primevue/icons/chevronright";import n from"primevue/ripple";import{UniqueComponentId as a,DomHandler as i}from"primevue/utils";import{mergeProps as r,resolveDirective as o,openBlock as c,createElementBlock as s,createElementVNode as l,withDirectives as d,renderSlot as p,createBlock as u,resolveDynamicComponent as b,createCommentVNode as v,Fragment as h,renderList as f,toDisplayString as g,vShow as x}from"vue";import y from"primevue/basecomponent";import{useStyle as m}from"primevue/usestyle";var w=m("\n@layer primevue {\n    .p-tabview-nav-container {\n        position: relative;\n    }\n    \n    .p-tabview-scrollable .p-tabview-nav-container {\n        overflow: hidden;\n    }\n    \n    .p-tabview-nav-content {\n        overflow-x: auto;\n        overflow-y: hidden;\n        scroll-behavior: smooth;\n        scrollbar-width: none;\n        overscroll-behavior: contain auto;\n    }\n    \n    .p-tabview-nav {\n        display: flex;\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n        flex: 1 1 auto;\n    }\n    \n    .p-tabview-header-action {\n        cursor: pointer;\n        user-select: none;\n        display: flex;\n        align-items: center;\n        position: relative;\n        text-decoration: none;\n        overflow: hidden;\n    }\n    \n    .p-tabview-ink-bar {\n        display: none;\n        z-index: 1;\n    }\n    \n    .p-tabview-header-action:focus {\n        z-index: 1;\n    }\n    \n    .p-tabview-title {\n        line-height: 1;\n        white-space: nowrap;\n    }\n    \n    .p-tabview-nav-btn {\n        position: absolute;\n        top: 0;\n        z-index: 2;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-tabview-nav-prev {\n        left: 0;\n    }\n    \n    .p-tabview-nav-next {\n        right: 0;\n    }\n    \n    .p-tabview-nav-content::-webkit-scrollbar {\n        display: none;\n    }\n}\n",{name:"tabview",manual:!0}),T={name:"TabView",extends:{name:"BaseTabView",extends:y,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},css:{classes:{root:function(e){return["p-tabview p-component",{"p-tabview-scrollable":e.props.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(e){var t=e.instance,n=e.tab,a=e.index;return["p-tabview-header",t.getTabProp(n,"headerClass"),{"p-highlight":t.d_activeIndex===a,"p-disabled":t.getTabProp(n,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(e){return["p-tabview-panel",e.instance.getTabProp(e.tab,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},loadStyle:w.load},provide:function(){return{$parentInstance:this}}},emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||a()},activeIndex:function(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted:function(){this.id=this.id||a(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar()},methods:{isTabPanel:function(e){return"TabPanel"===e.type.name},isTabActive:function(e){return this.d_activeIndex===e},getTabProp:function(e,t){return e.props?e.props[t]:void 0},getKey:function(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,t,n){var a=this.tabs.length,i={props:e.props,parent:{props:this.$props,state:this.$data},context:{index:n,count:a,first:0===n,last:n===a-1,active:this.isTabActive(n)}};return r(this.ptm("tab.".concat(t),{tab:i}),this.ptm("tabpanel.".concat(t),{tabpanel:i}),this.ptm("tabpanel.".concat(t),i),this.ptmo(this.getTabProp(e,"pt"),t,i))},onScroll:function(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,t=i.getWidth(e),n=e.scrollLeft-t;e.scrollLeft=n<=0?0:n},onNextButtonClick:function(){var e=this.$refs.content,t=i.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+t,a=e.scrollWidth-t;e.scrollLeft=n>=a?a:n},onTabClick:function(e,t,n){this.changeActiveIndex(e,t,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown:function(e,t,n){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,n)}},onTabArrowRightKey:function(e){var t=this.findNextHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey:function(e){var t=this.findPrevHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey:function(e){var t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onPageDownKey:function(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey:function(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey:function(e,t,n){this.changeActiveIndex(e,t,n),e.preventDefault()},findNextHeaderAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e.nextElementSibling;return t?i.getAttribute(t,"data-p-disabled")||"inkbar"===i.getAttribute(t,"data-pc-section")?this.findNextHeaderAction(t):i.findSingle(t,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e.previousElementSibling;return t?i.getAttribute(t,"data-p-disabled")||"inkbar"===i.getAttribute(t,"data-pc-section")?this.findPrevHeaderAction(t):i.findSingle(t,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(e,t,n){this.getTabProp(t,"disabled")||this.d_activeIndex===n||(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:e,index:n}),this.scrollInView({index:n}))},changeFocusedTab:function(e,t){if(t&&(i.focus(t),this.scrollInView({element:t}),this.selectOnFocus)){var n=parseInt(t.parentElement.dataset.index,10);this.changeActiveIndex(e,this.tabs[n],n)}},scrollInView:function(e){var t=e.index,n=e.element||this.$refs.nav.children[void 0===t?-1:t];n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest"})},updateInkBar:function(){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=i.getWidth(e)+"px",this.$refs.inkbar.style.left=i.getOffset(e).left-i.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var e=this.$refs.content,t=e.scrollLeft,n=e.scrollWidth,a=i.getWidth(e);this.isPrevButtonDisabled=0===t,this.isNextButtonDisabled=parseInt(t)===n-a},getVisibleButtonWidths:function(){var e=this.$refs;return[e.prevBtn,e.nextBtn].reduce((function(e,t){return t?e+i.getWidth(t):e}),0)}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce((function(t,n){return e.isTabPanel(n)?t.push(n):n.children&&n.children instanceof Array&&n.children.forEach((function(n){e.isTabPanel(n)&&t.push(n)})),t}),[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:n},components:{ChevronLeftIcon:e,ChevronRightIcon:t}};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=C(e,"string");return"symbol"===P(t)?t:String(t)}function C(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==P(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var S=["tabindex","aria-label"],$=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],D=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],K=["tabindex","aria-label"],O=["id","aria-labelledby","data-pc-index","data-p-active"];T.render=function(e,t,n,a,i,y){var m=o("ripple");return c(),s("div",r({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tabview"}),[l("div",r({class:e.cx("navContainer")},e.ptm("navContainer")),[e.scrollable&&!i.isPrevButtonDisabled?d((c(),s("button",r({key:0,ref:"prevBtn",type:"button",class:e.cx("previousButton"),tabindex:e.tabindex,"aria-label":y.prevButtonAriaLabel,onClick:t[0]||(t[0]=function(){return y.onPrevButtonClick&&y.onPrevButtonClick.apply(y,arguments)})},k(k({},e.previousButtonProps),e.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[p(e.$slots,"previcon",{},(function(){return[(c(),u(b(e.prevIcon?"span":"ChevronLeftIcon"),r({"aria-hidden":"true",class:e.prevIcon},e.ptm("previousIcon")),null,16,["class"]))]}))],16,S)),[[m]]):v("",!0),l("div",r({ref:"content",class:e.cx("navContent"),onScroll:t[1]||(t[1]=function(){return y.onScroll&&y.onScroll.apply(y,arguments)})},e.ptm("navContent")),[l("ul",r({ref:"nav",class:e.cx("nav"),role:"tablist"},e.ptm("nav")),[(c(!0),s(h,null,f(y.tabs,(function(t,n){return c(),s("li",r({key:y.getKey(t,n),style:y.getTabProp(t,"headerStyle"),class:e.cx("tab.header",{tab:t,index:n}),role:"presentation"},k(k(k({},y.getTabProp(t,"headerProps")),y.getTabPT(t,"root",n)),y.getTabPT(t,"header",n)),{"data-pc-name":"tabpanel","data-p-highlight":i.d_activeIndex===n,"data-p-disabled":y.getTabProp(t,"disabled"),"data-pc-index":n,"data-p-active":i.d_activeIndex===n}),[d((c(),s("a",r({id:y.getTabHeaderActionId(n),class:e.cx("tab.headerAction"),tabindex:y.getTabProp(t,"disabled")||!y.isTabActive(n)?-1:e.tabindex,role:"tab","aria-disabled":y.getTabProp(t,"disabled"),"aria-selected":y.isTabActive(n),"aria-controls":y.getTabContentId(n),onClick:function(e){return y.onTabClick(e,t,n)},onKeydown:function(e){return y.onTabKeyDown(e,t,n)}},k(k({},y.getTabProp(t,"headerActionProps")),y.getTabPT(t,"headerAction",n))),[t.props&&t.props.header?(c(),s("span",r({key:0,class:e.cx("tab.headerTitle")},y.getTabPT(t,"headerTitle",n)),g(t.props.header),17)):v("",!0),t.children&&t.children.header?(c(),u(b(t.children.header),{key:1})):v("",!0)],16,D)),[[m]])],16,$)})),128)),l("li",r({ref:"inkbar",class:e.cx("inkbar"),role:"presentation","aria-hidden":"true"},e.ptm("inkbar")),null,16)],16)],16),e.scrollable&&!i.isNextButtonDisabled?d((c(),s("button",r({key:1,ref:"nextBtn",type:"button",class:e.cx("nextButton"),tabindex:e.tabindex,"aria-label":y.nextButtonAriaLabel,onClick:t[2]||(t[2]=function(){return y.onNextButtonClick&&y.onNextButtonClick.apply(y,arguments)})},k(k({},e.nextButtonProps),e.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[p(e.$slots,"nexticon",{},(function(){return[(c(),u(b(e.nextIcon?"span":"ChevronRightIcon"),r({"aria-hidden":"true",class:e.nextIcon},e.ptm("nextIcon")),null,16,["class"]))]}))],16,K)),[[m]]):v("",!0)],16),l("div",r({class:e.cx("panelContainer")},e.ptm("panelContainer")),[(c(!0),s(h,null,f(y.tabs,(function(t,n){return c(),s(h,{key:y.getKey(t,n)},[!e.lazy||y.isTabActive(n)?d((c(),s("div",r({key:0,id:y.getTabContentId(n),style:y.getTabProp(t,"contentStyle"),class:e.cx("tab.content",{tab:t}),role:"tabpanel","aria-labelledby":y.getTabHeaderActionId(n)},k(k(k({},y.getTabProp(t,"contentProps")),y.getTabPT(t,"root",n)),y.getTabPT(t,"content",n)),{"data-pc-name":"tabpanel","data-pc-index":n,"data-p-active":i.d_activeIndex===n}),[(c(),u(b(t)))],16,O)),[[x,!!e.lazy||y.isTabActive(n)]]):v("",!0)],64)})),128))],16)],16)};export{T as default};
